<!DOCTYPE html>
<html>

<head>
  <style>
    body {
        background-color: rgb(0, 0, 0);
        font-size: 20px;
        font-family: 'Courier New', Courier, monospace;
        color: greenyellow;
        margin: auto;
        display: block;
    }
    #doorStatic {
      max-width: 800px;
      position: fixed;
      z-index: 2;
      top: 0;
      right: 0;
      left: 0;
      margin-left: auto;
      margin-right: auto;
      width: 100%;
      display: block;
    }
    #door {
      max-width: 800px;
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      margin-left: auto;
      margin-right: auto;
      width: 100%;
      display: none;
    }
    #logo {
      width: 100%;
      max-width: 800px;
      margin: auto;
      display: block;
    }
    #dice {
      margin: auto;
      display: none;
      max-width: 150px;
      width: 20%;
      /* position: absolute;
      bottom: 0;
      right: 0; */
    }
    #list {
      white-space: pre-line;
      display: block;
      margin: auto;
      /* width: fit-content; */
      text-align: center;
      width: 50%;
    }
    #world {
      display: none;
      margin: auto;
      max-width: 700px;
      text-align: center;
      width: 75%;
      border: 2px solid greenyellow;
      padding: 10px;
      margin-top: 25px;
    }
    #weapon-button {
      display: block;
      margin: auto;
      width: 90px;
      height: 40px;
      border-radius: 0px;
      font-family: 'Courier New', Courier, monospace;
      border: 1px solid greenyellow;
      background-color: black;
      color: greenyellow;
    }
</style>
  <meta charset="utf-8">
  <title></title>
  <meta name="author" content="">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="css/style.css" rel="stylesheet">
</head>
<script>
    // var BUTTON_PRESSED = false;
    function selectWeapon() {
        // if (BUTTON_PRESSED === true) {
        //   return;
        // }

        // BUTTON_PRESSED = true;
        // Define our list of tokens
        const WEAPONS = ["MURDER FOREST", "EERIE ISLES", "THE TOWER OF PAIN"];
        const WORLD_IMAGES = ["MurderForest.png", "EerieIsles.png", "TowerOfPain.png"];
        const WORLD_LINKS = ["https://drive.google.com/file/d/1seU59c4LVE63QGjPXucQVXKxokoLDYav/view?usp=sharing", "https://drive.google.com/file/d/17izmRIJGWu8An4a_yQUWr6T-mSH8JhQV/view?usp=sharing", "https://drive.google.com/file/d/1oZhv5TTusRlC8-nVsExn_x0yFRf36RHZ/view?usp=sharing"];
        // Select a token at random
        const index = Math.floor(Math.random() * WEAPONS.length);
        const randomWep = WEAPONS[index];
        const randomWorld = WORLD_IMAGES[index];
        const randomWorldPic = WORLD_LINKS[index];

        const diceElement = document.getElementById("dice");
        dice.style.display = "block";

        const buttonElement = document.getElementById("weapon-button");
        buttonElement.style.display = "none";

        // Play dice audio
        var DICE_ROLL = new Audio();
        DICE_ROLL.src = "DiceRoll.mp3";
        setTimeout(() => {
          DICE_ROLL.play();
        }, 100);

        // Grab a reference to the list element
        const weaponElement = document.getElementById("list");

        // Grab a reference to the world element
        const worldElement = document.getElementById("world");

        // Grab a reference to the world image element
        const worldImageElement = document.getElementById("worldLink");

        //Wait 2 seconds before updating list and display loading text
        weaponElement.innerHTML = " ";
        setTimeout(() => {

          // Set its text to be the random value we selected
          // weaponElement.innerHTML = `location: ${randomWep}\nweapon: ${randomWep}\n`;
          weaponElement.innerHTML = `location: ${randomWep}`;
          worldElement.src = randomWorld;
          worldElement.style.display = "block";
          worldImageElement.href = randomWorldPic;
        }, 1500);

    }

    function enterSite() {

        const doorStaticElement = document.getElementById("doorStatic");
        doorStaticElement.remove();

        const doorElement = document.getElementById("door");
        door.style.display = "block";

        const listElement = document.getElementById("list");
        list.style.display = "none";
        
        setTimeout(() => {
          doorElement.remove();
          list.style.display = "block";
        }, 5200);

        var BG_MUSIC = new Audio();
        BG_MUSIC.src = "Castle.mp3";
        BG_MUSIC.play();
}
</script>

<body>
    <img id="doorStatic" src="DoorStatic.gif" onclick="enterSite()" onmouseover="" style="cursor: pointer;"/>
    <img id="door" src="Door.gif"/>
    <img id="logo" src="DebtQuest_Logo_Pixelated.png"/>
    <img id="dice" src="DiceStop.gif"/>
    <button id="weapon-button" onclick="selectWeapon()" onmouseover="" style="cursor: pointer;">ROLL</button>
    <br>
    <div id="list">Roll for a location</div>
    <a id="worldLink" href = "" target = "_blank">
      <img id="world" src = ""/>
    </a>
    <!-- <audio controls autoplay>
        <source src="Castle.mp3">
    </audio> -->
</body>

</html>
